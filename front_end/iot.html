<!doctype html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css.css">
	<link href="jQueryAssets/jquery.ui.core.min.css" rel="stylesheet" type="text/css">
	<link href="jQueryAssets/jquery.ui.theme.min.css" rel="stylesheet" type="text/css">
	<link href="jQueryAssets/jquery.ui.button.min.css" rel="stylesheet" type="text/css">
<meta charset="utf-8">
<title>iot</title>
<script src="jQueryAssets/jquery-1.11.1.min.js"></script>
<script src="jQueryAssets/jquery.ui-1.10.4.button.min.js"></script>

<script type="text/javascript">
	
	var device = new Array();
	var num = 0;			//用于给添加的设备编号
	var map = {};
	map['aerograph'] = "1";
	map['ac_main'] = 0;
	map['action'] = 0;
	map['alarm_main'] = 0;
	map['temp_main'] = 0;
	map['door'] = 0;
	map['ac_sub2'] = 0;
	map['temp_sub2'] = 0;
	map['window_sub2'] = 0;
	map['ac_sub1'] = 0;
	map['temp_sub1'] = 0;
	map['window_sub1'] = 0;
	map['water_laker'] = 0;
	map['coffee_mac'] = 0;
	map['alarm_kitchen'] = 0;
	var mymap = {};
	
	function choose(){
		var random = Math.floor(Math.random()*num)+1; 
		var se=confirm("是否允许该策略执行?\n该策略会导致"+device[random]+"的状态改变");
		if (se==true)
		  {
			  document.getElenmentById("date").value= "1";
			  document.CCCC.submit();
			  if(device[random].toString.equals("1"))
			  	{	iv.value = map['door'];
					}
			 else{device[random] = 0;}
			  alert("你按下的是【确认】");
		  }
		else
		  {
			document.getElenmentById("indate").value= "0";
			document.CCCC.submit();
			alert("你按下的是【取消】");
		  }
	}
	
	var flag;
	function show0(){
		document.getElementById('li0').style.display="none";
		document.getElementById('li1').style.display="none";
    	document.getElementById('li6').style.display="none";
		document.getElementById('li8').style.display="none";
		document.getElementById('li1').style.display="none";
		
		document.getElementById('li2').style.display="block";
		document.getElementById('li3').style.display="block";
		document.getElementById('li4').style.display="block";
		document.getElementById('li5').style.display="block";
		document.getElementById('li7').style.display="block";
		
		flag = 0;
		//document.getElementById('room0').style.display="none";
	}
	function show1(){
		document.getElementById('li1').style.display="none";
		document.getElementById('li2').style.display="none";
		document.getElementById('li3').style.display="none";
		document.getElementById('li4').style.display="none";
		document.getElementById('li5').style.display="none";
		document.getElementById('li6').style.display="none";
		document.getElementById('li7').style.display="none";
		document.getElementById('li8').style.display="none";
		
		document.getElementById('li0').style.display="block";
		
		flag = 1;
		//document.getElementById('room1').style.display="none";
	}
    function show2(){
		document.getElementById('li0').style.display="none";
		document.getElementById('li4').style.display="none";
		document.getElementById('li5').style.display="none";
		document.getElementById('li6').style.display="none";
		document.getElementById('li7').style.display="none";
		document.getElementById('li8').style.display="none";
		
		document.getElementById('li1').style.display="block";
		document.getElementById('li2').style.display="block";
		document.getElementById('li3').style.display="block";
		
		flag = 2;
		//document.getElementById('room2').style.display="none";
	}
	function show3(){
		document.getElementById('li0').style.display="none";
		document.getElementById('li4').style.display="none";
		document.getElementById('li5').style.display="none";
		document.getElementById('li6').style.display="none";
		document.getElementById('li7').style.display="none";
		document.getElementById('li8').style.display="none";
		
		document.getElementById('li1').style.display="block";
		document.getElementById('li2').style.display="block";
		document.getElementById('li3').style.display="block";
		
		flag = 3;
		//document.getElementById('room3').style.display="none";
	}
	function show4(){
		document.getElementById('li0').style.display="none";
		document.getElementById('li4').style.display="none";
		document.getElementById('li5').style.display="none";
		document.getElementById('li6').style.display="none";
		document.getElementById('li7').style.display="none";
		document.getElementById('li8').style.display="none";
		document.getElementById('li1').style.display="none";
		
		document.getElementById('li2').style.display="block";
		document.getElementById('li3').style.display="block";
		//document.getElementById('room4').style.display="none";
		
		flag = 4;
	}
	function show5(){
		document.getElementById('li1').style.display="none";
		document.getElementById('li0').style.display="none";
		document.getElementById('li4').style.display="none";
		document.getElementById('li7').style.display="none";
		document.getElementById('li8').style.display="none";
		document.getElementById('li2').style.display="none";
		document.getElementById('li3').style.display="none";
		
		document.getElementById('li5').style.display="block";
		document.getElementById('li6').style.display="block";
		
		flag = 5;
		//document.getElementById('room5').style.display="none";
	}
	function show6(){
		document.getElementById('li0').style.display="none";
		document.getElementById('li1').style.display="none";
		document.getElementById('li2').style.display="none";
		document.getElementById('li3').style.display="none";
		document.getElementById('li4').style.display="none";
		document.getElementById('li5').style.display="none";
		document.getElementById('li6').style.display="none";
		document.getElementById('li7').style.display="none";
		
		document.getElementById('li8').style.display="block";
		
		flag = 6;
		//document.getElementById('room6').style.display="none";
	}
	
	function out0(){
		num++;
		if(flag == 1)
		document.getElementById('qixiangyi').style.display='block';
		device[num]= map['aerograph'];
		
	}
	function dis0(){
		num--;
		if(flag == 1)
		document.getElementById('qixiangyi').style.display='none';
		
	}
	function out1(){
		num++;
		 if(flag == 3){
			 document.getElementById('img').style.display='block';
			 device[num]= map['window_sub1'];
		 }
		 if(flag == 2){
	        document.getElementById('window2').style.display='block';
			 device[num]= map['window_sub2'];
		}
	}
	function dis1(){
		num--;
		if(flag == 3){
			document.getElementById('img').style.display='none';
		}else if(flag == 2){
			document.getElementById('window2').style.display='none';
		}
	}
	function out2(){
		num++;
		if(flag == 2){
			document.getElementById('ac2').style.display='block';
			device[num]= map['ac_sub2'];
		}else if(flag == 0){
			document.getElementById('ac1').style.display='block';
			device[num]= map['ac_main'];
		}else if(flag == 3){
			document.getElementById('ac3').style.display='block';
			device[num]= map['ac_sub1'];
		}else if(flag == 4){
			document.getElementById('ac4').style.display='block';
		}
		
	}
	function dis2(){
		num--;
		if(flag == 2){
			document.getElementById('ac2').style.display='none';
		}else if(flag == 0){
			document.getElementById('ac1').style.display='none';
		}else if(flag == 3){
			document.getElementById('ac3').style.display='none';
		}else if(flag == 4){
			document.getElementById('ac4').style.display='none';
		}
	}
	function out3(){
		num++;
		if(flag == 0){
			document.getElementById('temp').style.display='block';
			device[num]= map['temp_main'];
		}else if(flag == 2){
			document.getElementById("temp2").style.display='block';
			device[num]= map['temp_sub2'];
		}else if(flag == 3){
			document.getElementById('temp3').style.display='block';
			device[num]= map['temp_sub1'];
		}else if(flag == 4){
			document.getElementById('temp4').style.display='block';
		}	
	}
	function dis3(){
		num--;
		if(flag == 0){
			document.getElementById('temp').style.display='none';
		}else if(flag == 2){
			document.getElementById("temp2").style.display='none';
		}else if(flag == 3){
			document.getElementById('temp3').style.display='none';
		}else if(flag == 4){
			document.getElementById('temp4').style.display='none';
		}
	}
	function out4(){
		num++;
		if(flag == 0)
		document.getElementById('distance').style.display='block';
		device[num]= map['action'];

	}
	function dis4(){
		num--;
		if(flag == 0)
		document.getElementById('distance').style.display='none';
	}
	function out5(){
		num++;
		if(flag == 0){
			document.getElementById('alarm1').style.display='block';
			device[num]= map['alarm_main'];
		}else if(flag == 5){
			document.getElementById("alarm2").style.display='block';
			device[num]= map['alarm_kitchen'];
		}
	}
	function dis5(){
		num--;
		if(flag == 0){
			document.getElementById('alarm1').style.display='none';
		}else if(flag == 5){
			document.getElementById("alarm2").style.display='none';
		}
	}
	function out6(){
		num++;
		if(flag == 5)
		document.getElementById('coffee').style.display='block';
		device[num]= map['coffee_mac'];
	}
	function dis6(){
		num--;
		if(flag == 5)
		document.getElementById('coffee').style.display='none';
	}
	function out7(){
		num++;
		if(flag == 0)
		document.getElementById('door').style.display='block';
		device[num]= map['door'];
		
	}
	function dis7(){
		num--;
		if(flag == 0)
		document.getElementById('door').style.display='none';
		
	}
	function out8(){
		num++;
		if(flag == 6)
		document.getElementById('waterlaker').style.display='block';
		device[num]= map['water_laker'];
	}
	function dis8(){
		num--;
		if(flag == 6)
		document.getElementById('waterlaker').style.display='none';
	}
	function res(){
		num = 0;
		document.getElementById('li0').style.display="block";
		document.getElementById('li1').style.display="block";
		document.getElementById('li2').style.display="block";
		document.getElementById('li3').style.display="block";
		document.getElementById('li4').style.display="block";
		document.getElementById('li5').style.display="block";
		document.getElementById('li6').style.display="block";
		document.getElementById('li7').style.display="block";
		document.getElementById('li8').style.display="block";
		
		document.getElementById('img').style.display= "none";
		document.getElementById('qixiangyi').style.display= "none";
		document.getElementById('window2').style.display= "none";
		document.getElementById('distance').style.display= "none";
		document.getElementById('alarm1').style.display= "none";
		document.getElementById('ac1').style.display= "none";
		document.getElementById('temp').style.display= "none";
		document.getElementById('ac2').style.display= "none";
		document.getElementById('temp2').style.display= "none";
		document.getElementById('temp3').style.display= "none";
		document.getElementById('ac3').style.display= "none";
		document.getElementById('ac4').style.display= "none";
		document.getElementById('temp4').style.display= "none";
		document.getElementById('door').style.display= "none";
		document.getElementById('coffee').style.display= "none";
		document.getElementById('alarm2').style.display= "none";
		document.getElementById('waterlaker').style.display= "none";
		flag = -1;
		
	}
    </script>
	
</head>

<body background="房屋.jpg" class="body" >

	<div class="tab">
<table width="200" border="1" id="tab">

	<tbody>
    <tr>
      <td>&nbsp;&nbsp;设备</td>
      <td>&nbsp;状态</td>
    </tr>
    <tr>
      <td>&nbsp;1.气象仪</td>
      <td><input readonly size="1" border="0px" style="text-align: center" type="text" value="" id="value"/><script>
		  var iv=document.getElementById("value");
		  iv.value = map['aerograph'];</script></td>
    </tr>
    <tr>
      <td>&nbsp;2.客厅空调</td>
      <td>&nbsp;&nbsp;<script>document.write(map['ac_main']);</script></td>
    </tr>
    <tr>
      <td>&nbsp;3.动作传感器</td>
      <td>&nbsp;&nbsp;<script>document.write(map['action']);</script></td>
    </tr>
    <tr>
      <td>&nbsp;4.烟雾报警器</td>
      <td>&nbsp;&nbsp;<script>document.write(map['alarm_main']);</script></td>
    </tr>
    <tr>
      <td>&nbsp;5.客厅温度计</td>
      <td>&nbsp;&nbsp;<script>document.write(map['temp_main']);</script></td>
    </tr>
    <tr>
      <td>&nbsp;6.门</td>
      <td>&nbsp;&nbsp;<script>document.write(map['door']);</script></td>
    </tr>
    <tr>
      <td>&nbsp;7.次卧空调</td>
      <td>&nbsp;&nbsp;<script>document.write(map['ac_sub2']);</script></td>
    </tr>
    <tr>
      <td>&nbsp;8.次卧温度计</td>
      <td>&nbsp;&nbsp;<script>document.write(map['temp_sub2']);</script></td>
    </tr>
    <tr>
      <td>&nbsp;9.次卧窗户</td>
      <td>&nbsp;&nbsp;<script>document.write(map['window_sub2']);</script></td>
    </tr>
    <tr>
      <td>&nbsp;10.主卧空调</td>
      <td>&nbsp;&nbsp;<script>document.write(map['ac_sub1']);</script></td>
    </tr>
    <tr>
      <td>&nbsp;11.主卧温度计</td>
      <td>&nbsp;&nbsp;<script>document.write(map['temp_sub1']);</script></td>
    </tr>
		<tr>
      <td>&nbsp;12.主卧窗户</td>
      <td>&nbsp;&nbsp;<script>document.write(map['window_sub1']);</script></td>
    </tr>
		<tr>
      <td>&nbsp;13.漏水检测器</td>
      <td>&nbsp;&nbsp;<script>document.write(map['water_laker']);</script></td>
    </tr>
		<tr>
      <td>&nbsp;14.咖啡机</td>
      <td>&nbsp;&nbsp;<script>document.write(map['coffee_mac']);</script></td>
    </tr>
		<tr>
      <td>&nbsp;15.厨房烟雾报警</td>
      <td>&nbsp;&nbsp;<script>document.write(map['alarm_kitchen']);</script></td>
    </tr>
  </tbody>
</table>
</div>
	
<div class="divcss1">
		<ul>
			<li id="li0">
				<input type="image" src="添加 (1).png" width="25" height="25" id="button0" onClick="out0()" alt="添加">
				<input type="image" src= "减少.png" width="30" height="25" id="button0_dis" onClick="dis0()" alt="去除">
				<img src="气象仪.png" width="35px" height="35px" alt=""><strong>气象仪</strong>
		  </li>
			<li id="li1">
				<input type="image" src="添加 (1).png" width="25" height="25" id="button1" onClick="out1()" alt="添加">
				<input type="image" src= "减少.png" width="30" height="25" id="button1_dis" onClick="dis1()" alt="去除">
				<img src="窗户.png" width="30px" height="30px" alt=""><strong> 窗户</strong></li>
			<li id="li2">
				<input type="image" src="添加 (1).png" width="25" height="25" id="button2" onClick="out2()" alt="添加">
				<input type="image" src= "减少.png" width="30" height="25" id="button2_dis" onClick="dis2()" alt="去除">
				<img src="空调.png" width="35px" height="30px" alt=""><strong> 空调</strong></li>		
			<li id="li3">
				<input type="image" src="添加 (1).png" width="25" height="25" id="button3" onClick="out3()" alt="添加">
				<input type="image" src= "减少.png" width="30" height="25" id="button3_dis" onClick="dis3()" alt="去除">
				<img src="温湿度传感器_o.png" width="35px" height="35px" alt=""><strong> 温湿度计</strong></li>
			<li id="li4">
				<input type="image" src="添加 (1).png" width="25" height="25" id="button4" onClick="out4()" alt="添加">
				<input type="image" src= "减少.png" width="30" height="25" id="button4_dis" onClick="dis4()" alt="去除">
				<img src="距离传感器.png" width="30px" height="30px" alt=""><strong> 动作传感器</strong></li>
			<li id="li5">
				<input type="image" src="添加 (1).png" width="25" height="25" id="button5" onClick="out5()" alt="添加">
				<input type="image" src= "减少.png" width="30" height="25" id="button5_dis" onClick="dis5()" alt="去除">
				<img src="警报.png" width="30px" height="32px" alt=""><strong> 烟雾报警器</strong></li>
			<li id="li6">
				<input type="image" src="添加 (1).png" width="25" height="25" id="button6" onClick="out6()" alt="添加">
				<input type="image" src= "减少.png" width="30" height="25" id="button6_dis" onClick="dis6()" alt="去除">
				<img src="咖啡机.png" width="35px" height="30px" alt=""><strong> 咖啡机</strong></li>
			<li id="li7">
				<input type="image" src="添加 (1).png" width="25" height="25" id="button7" onClick="out7()" alt="添加">
				<input type="image" src= "减少.png" width="30" height="25" id="button7_dis" onClick="dis7()" alt="去除">
				<img src="门.png" width="30px" height="30px" alt=""><strong> 门</strong></li>
			<li id="li8">
				<input type="image" src="添加 (1).png" width="25" height="25" id="button8" onClick="out8()" alt="添加">
				<input type="image" src= "减少.png" width="30" height="25" id="button8_dis" onClick="dis8()" alt="去除">
				<img src= "漏水检测器.png" width="30px" height="30px" alt=""><strong> 漏水检测器</strong></li>
	</ul>
	</div>
	<div class="divcss9">
		<input type="image" src="重置.png" width="35px" height="35px" id="res" onClick="res()" alt="重置">
	</div>
<div class="divcss2"><input type="image" src="添加 (1).png" width="25" height="25" id="room0" onClick="show0()" alt="添加"></div>
<div class="divcss3"><input type="image" src="添加 (1).png" width="25" height="25" id="room1" onClick="show1()" alt="添加"></div>
<div class="divcss4"><input type="image" src="添加 (1).png" width="25" height="25" id="room2" onClick="show2()" alt="添加"></div>
<div class="divcss5"><input type="image" src="添加 (1).png" width="25" height="25" id="room3" onClick="show3()" alt="添加"></div>
<div class="divcss6"><input type="image" src="添加 (1).png" width="25" height="25" id="room4" onClick="show4()" alt="添加"></div>
<div class="divcss7"><input type="image" src="添加 (1).png" width="25" height="25" id="room5" onClick="show5()" alt="添加"></div>
<div class="divcss8"><input type="image" src="添加 (1).png" width="25" height="25" id="room6" onClick="show6()" alt="添加"></div>

<div class="image1">
		<img src="气象仪.png" width="45px" height="40px" style="display:none" id="qixiangyi" alt="">
	</div>
<div class="image">
		<img src="窗户.png" width="50px" height="50px" style="display:none" id="img" alt="">
	</div>
<div class="image2">
		<img src="窗户.png" width="50px" height="50px" style="display:none" id="window2" alt="">
	</div>	
<div class="image3">
		<img src="空调.png" width="40px" height="40px" style="display:none" id="ac1" alt="" value ="1">
		<img src="距离传感器.png" width="50px" height="50px" style="display:none" id="distance" alt="">
		<img src="警报.png" width="40px" height="40px" style="display:none" id="alarm1" alt="">
		<img src="温湿度传感器_o.png" width="40px" height="40px" style="display:none" id="temp" alt="">
	</div>
<div class="image8">
		<img src="空调.png" width="40px" height="40px" style="display:none" id="ac2" alt="">
	    <img src="温湿度传感器_o.png" width="50px" height="50px" style="display:none" id="temp2" alt="">
	</div>
<div class="image5">
		<img src="空调.png" width="40px" height="40px" style="display:none" id="ac3" alt="">
		<img src="温湿度传感器_o.png" width="50px" height="50px" style="display:none" id="temp3" alt="">
	</div>
<div class="image6">
		<img src="空调.png" width="40px" height="40px" style="display:none" id="ac4" alt="">
		<img src="温湿度传感器_o.png" width="50px" height="50px" style="display:none" id="temp4" alt="">
	</div>
<div class="image7">
		<img src="门.png" width="50px" height="50px" style="display:none" id="door" alt="">
	</div>
<div class="image4">
		<img src="咖啡机.png" width="40px" height="40px" style="display:none" id="coffee" alt="">
		<img src="警报.png" width="40px" height="40px" style="display:none" id="alarm2" alt="">
	</div>	
<div class="image9">
		<img src= "漏水检测器.png" width="35px" height="35px" style="display:none" id="waterlaker" alt="">
	</div>

	
<div class="choose">
	<form name="CCCC" action="servlet.jsp" method="post">
		<input type="hidden" id="date" name="data" value="0" />
		<input type="button" value="随机触发" onClick="choose()">
	</form>
	</div>
</body>
</html>
